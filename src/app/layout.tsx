import { ReactQueryProvider } from '@/providers/reactquery-provider';
import '@/styles/globals.css';
import { type Metadata } from 'next';
import Header from './_components/header';
import { Iceland } from 'next/font/google';
import GridPattern from '@/components/magicui/grid-pattern';
import { Suspense } from 'react';
import Footer from './_components/footer';

export const metadata: Metadata = {
  title: 'Umbra Virtunis',
  description: 'Generated by create-t3-app',
  icons: [{ rel: 'icon', url: '/favicon.ico' }],
};

const iceland = Iceland({
  subsets: ['latin'],
  weight: '400',
});

export default function RootLayout({
  children,
}: Readonly<{ children: React.ReactNode }>) {
  return (
    <ReactQueryProvider>
      <html lang="en" className={`${iceland.className}`}>
        <body className="overflow-hidden">
          <div className="fixed h-full w-full overflow-auto bg-[url('/images/background.png')] bg-cover bg-fixed bg-center">
            <div className="relative">
              <GridPattern
                width={18}
                height={18}
                x={-1}
                y={-1}
                className="w-full stroke-white/10"
              />
              <div className="absolute inset-0 z-0 bg-black opacity-45"></div>
              <Suspense fallback={null}>
                <div className="relative mx-auto flex min-h-screen w-full max-w-6xl flex-col">
                  <Header />
                  {children}
                </div>
              </Suspense>
            </div>
            <Footer />
          </div>
        </body>
      </html>
    </ReactQueryProvider>
  );
}
